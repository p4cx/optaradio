{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-sm-12">
        <div class="card fluid">
            <div class="section">{% if success %}<mark class="inline-block tertiary">Success!</mark>{% else %}<mark class="inline-block secondary">Error!</mark>{% endif %}<span class="report_message">{{ message }}</span></div>
        </div>
    </div>
</div>

{% if not success %}
<script>
    var time = 0;
    let timerId = setInterval(() => update(), 30);

    function update() {
        var element = document.getElementById("pgbar");
        element.setAttribute("value", time);
        time += 30
    }

    setTimeout(() => { clearInterval(timerId); window.location.href = "/"; }, 5000);
</script>
<div class="row">
    <div class="col-sm-12">
        <div class="card fluid">
            <div class="section">
                <progress id="pgbar" value="0" max="4500" class="secondary"></progress>
                <span class="report_message">You will be redirected to the station form soon.</span>
            </div>
        </div>
    </div>
</div>
{% endif %}

<div class="row">
    <div class="col-sm-12">
        <div class="card fluid">
            <div class="section">
                <a href="/"><button class="large">Back to Station Overview.</button></a>
            </div>
        </div>
    </div>
</div>

{% if station|length > 0 %}
<div class="row">
    <div class="col-sm-12">
        <div class="card fluid">
            <div class="section">
                <img class="header_image" src="/image/{{ station[3] }}" alt="header"/>
                <div class="row responsive-label spacer_20">
                    <div class="col-sm-12 col-md-3 row_title">Station name</div>
                    <div class="col-sm-12 col-md">{{ station[0] }}</div>
                </div>
                <div class="row responsive-label spacer_20">
                    <div class="col-sm-12 col-md-3 row_title">Stream url</div>
                    <div class="col-sm-12 col-md"><a href="{{ station[1] }}">{{ station[1] }}</a></div>
                </div>
                <div class="row responsive-label spacer_20">
                    <div class="col-sm-12 col-md-3 row_title">Description</div>
                    <div class="col-sm-12 col-md">{{ station[2] }}</div>
                </div>
                <div class="row responsive-label spacer_20">
                    <div class="col-sm-12 col-md-3 row_title">Country</div>
                    <div class="col-sm-12 col-md">{{ station[4] }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}


